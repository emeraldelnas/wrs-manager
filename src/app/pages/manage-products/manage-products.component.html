<div class="main-wrapper container" style="background-color: #fff">
  <div class="header">
    <a appBack class="link"
      ><svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        width="16"
        height="16"
      >
        <path
          d="M10.828 12l4.95 4.95-1.414 1.414L8 12l6.364-6.364 1.414 1.414z"
          fill="rgba(39,35,67,1)"
        />
      </svg>
      Back</a
    >
  </div>
  <div class="content">
    <p class="title">Manage Products</p>
    <div class="m-products-list">
      <div>
        <app-m-products
          *ngFor="let product of products$ | async"
          [product]="product"
        ></app-m-products>
      </div>
    </div>
  </div>
  <div class="footer">
    <button
      class="btn btn-primary"
      type="button"
      (click)="openAddProductModal(addProductModal)"
    >
      Add New Product
    </button>
  </div>
</div>

<ng-template #addProductModal>
  <form
    [formGroup]="addProductForm"
    (ngSubmit)="addProduct()"
    autocomplete="off"
  >
    <div class="modal-header">
      <h4 class="modal-title">New Product</h4>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="product-name">Name</label>
        <input
          formControlName="name"
          type="text"
          class="form-control"
          id="product-name"
          placeholder="Product name"
          autofocus
          autocomplete="off"
        />
      </div>
      <div class="form-group">
        <label for="product-price">Price</label>
        <input
          formControlName="price"
          type="number"
          class="form-control"
          id="product-price"
          placeholder="0.00"
          autocomplete="off"
        />
      </div>
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-light"
        data-dismiss="modal"
        (click)="addProductModalRef.hide()"
      >
        Cancel
      </button>
      <button
        [disabled]="addProductForm.invalid"
        type="submit"
        class="btn btn-primary"
      >
        Add
      </button>
    </div>
  </form>
</ng-template>
